(function(){"use strict";(function(e){try{if(typeof document<"u")if(window.location.href.includes("chrome-extension://")){const t=document.createElement("style");t.appendChild(document.createTextNode(e)),document.head.appendChild(t)}else{const t="__wps-translate-entry-content-css__";window[t]||(window[t]=[]),window[t].push(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})(`@charset "UTF-8";.capture-page-wrapper[data-v-ce0fc7b4]{margin-top:6px}.capture-page-wrapper .capture-header[data-v-ce0fc7b4]{display:flex;margin-inline-start:23px}.capture-page-wrapper .capture-tip-image[data-v-ce0fc7b4]{text-align:center;-webkit-user-select:none;user-select:none;margin-top:10px;height:84px}.capture-page-wrapper .capture-tip-image img[data-v-ce0fc7b4]{width:84px;height:84px}.capture-page-wrapper .capture-tip-text[data-v-ce0fc7b4]{margin:16px 36px 0;text-align:center;font-size:14px}.capture-page-wrapper .capture-tip-text p[data-v-ce0fc7b4]{min-height:51px;line-height:17px;display:flex;align-items:center;justify-content:center}.capture-page-wrapper .capture-progress[data-v-ce0fc7b4]{position:relative;margin:32px 36px 62px}.capture-page-wrapper .capture-progress .capture-progress-text-wrapper[data-v-ce0fc7b4]{height:16px;margin-bottom:4px;position:relative}.capture-page-wrapper .capture-progress .capture-progress-text-wrapper .capture-progress-text[data-v-ce0fc7b4]{font-size:14px;line-height:16px;position:absolute}[dir=ltr] .capture-page-wrapper .capture-progress .capture-progress-text-wrapper .capture-progress-text[data-v-ce0fc7b4]{transform:translate(-50%)}[dir=rtl] .capture-page-wrapper .capture-progress .capture-progress-text-wrapper .capture-progress-text[data-v-ce0fc7b4]{transform:translate(50%)}.capture-page-wrapper .capture-progress .capture-progress-bar[data-v-ce0fc7b4]{position:absolute;background-color:#2962ff;height:8px}.capture-page-wrapper .capture-progress[data-v-ce0fc7b4]:after{content:"";display:block;background-color:#ebebeb;height:8px}.capture-page-wrapper .capture-footer[data-v-ce0fc7b4]{display:flex;justify-content:center}.capture-page-wrapper .capture-footer .cancel-button[data-v-ce0fc7b4]{width:142px;height:36px;border-radius:8px}.upgrade-btn[data-v-67571364]{display:flex;align-items:center;justify-content:center;gap:4px;height:28px;padding:0 10px;font-size:12px;font-weight:600;color:#fff;background:radial-gradient(ellipse 67.24% 88.54% at 52.67% 100%,#5adeff,#2986ff);border:none;border-radius:18px;cursor:pointer;-webkit-user-select:none;user-select:none}.avatar[data-v-0d54927c]{position:relative;display:inline-flex;flex-shrink:0;width:36px;height:36px;font-size:24px;font-weight:500;cursor:pointer}.avatar .avatar-image[data-v-0d54927c]{width:100%;height:100%;border-radius:50%;background-repeat:no-repeat;background-position:center;background-size:contain}.avatar .avatar-letter[data-v-0d54927c]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#f7f7f7;border-style:solid;border-width:1px;border-radius:50%}.avatar.avatar-pro[data-v-0d54927c]:after{position:absolute;inset-inline-start:50%;bottom:-2px;width:26px;height:14px;content:"";background-image:url("data:image/svg+xml,%3csvg%20width='32'%20height='16'%20viewBox='0%200%2032%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='32'%20height='16'%20rx='4'%20fill='url(%23paint0_linear_6674_208464)'/%3e%3cpath%20d='M6.37553%2012V4.72727H9.10281C9.66152%204.72727%2010.1303%204.83144%2010.5091%205.03977C10.8902%205.24811%2011.1779%205.53456%2011.372%205.89915C11.5685%206.26136%2011.6667%206.6733%2011.6667%207.13494C11.6667%207.60133%2011.5685%208.01562%2011.372%208.37784C11.1755%208.74006%2010.8855%209.02533%2010.502%209.23366C10.1184%209.43963%209.64613%209.54261%209.08505%209.54261H7.27752V8.45952H8.90749C9.2342%208.45952%209.50172%208.4027%209.71005%208.28906C9.91838%208.17543%2010.0723%208.01918%2010.1717%207.82031C10.2735%207.62145%2010.3244%207.39299%2010.3244%207.13494C10.3244%206.87689%2010.2735%206.64962%2010.1717%206.45312C10.0723%206.25663%209.9172%206.10393%209.7065%205.99503C9.49817%205.88376%209.22946%205.82812%208.90039%205.82812H7.693V12H6.37553ZM12.8111%2012V4.72727H15.5384C16.0971%204.72727%2016.5658%204.82434%2016.9446%205.01847C17.3258%205.21259%2017.6134%205.48485%2017.8075%205.83523C18.004%206.18324%2018.1023%206.58925%2018.1023%207.05327C18.1023%207.51965%2018.0028%207.92448%2017.804%208.26776C17.6075%208.60866%2017.3175%208.87263%2016.9339%209.05966C16.5504%209.24432%2016.0793%209.33665%2015.5206%209.33665H13.5781V8.2429H15.343C15.6697%208.2429%2015.9373%208.19792%2016.1456%208.10795C16.3539%208.01562%2016.5078%207.88187%2016.6072%207.70668C16.709%207.52912%2016.7599%207.31132%2016.7599%207.05327C16.7599%206.79522%2016.709%206.57505%2016.6072%206.39276C16.5054%206.2081%2016.3504%206.06842%2016.142%205.97372C15.9337%205.87666%2015.665%205.82812%2015.3359%205.82812H14.1286V12H12.8111ZM16.5682%208.70455L18.3686%2012H16.8984L15.13%208.70455H16.5682ZM25.8136%208.36364C25.8136%209.14725%2025.6668%209.81842%2025.3732%2010.3771C25.082%2010.9335%2024.6843%2011.3596%2024.18%2011.6555C23.6781%2011.9515%2023.1088%2012.0994%2022.4719%2012.0994C21.8351%2012.0994%2021.2646%2011.9515%2020.7603%2011.6555C20.2584%2011.3572%2019.8607%2010.9299%2019.5671%2010.3736C19.2759%209.81487%2019.1303%209.14489%2019.1303%208.36364C19.1303%207.58002%2019.2759%206.91004%2019.5671%206.35369C19.8607%205.79498%2020.2584%205.36766%2020.7603%205.07173C21.2646%204.7758%2021.8351%204.62784%2022.4719%204.62784C23.1088%204.62784%2023.6781%204.7758%2024.18%205.07173C24.6843%205.36766%2025.082%205.79498%2025.3732%206.35369C25.6668%206.91004%2025.8136%207.58002%2025.8136%208.36364ZM24.489%208.36364C24.489%207.81203%2024.4026%207.34683%2024.2298%206.96804C24.0593%206.58688%2023.8226%206.29924%2023.5195%206.10511C23.2165%205.90862%2022.8673%205.81037%2022.4719%205.81037C22.0766%205.81037%2021.7274%205.90862%2021.4244%206.10511C21.1213%206.29924%2020.8834%206.58688%2020.7106%206.96804C20.5401%207.34683%2020.4549%207.81203%2020.4549%208.36364C20.4549%208.91525%2020.5401%209.38163%2020.7106%209.76278C20.8834%2010.1416%2021.1213%2010.4292%2021.4244%2010.6257C21.7274%2010.8198%2022.0766%2010.9169%2022.4719%2010.9169C22.8673%2010.9169%2023.2165%2010.8198%2023.5195%2010.6257C23.8226%2010.4292%2024.0593%2010.1416%2024.2298%209.76278C24.4026%209.38163%2024.489%208.91525%2024.489%208.36364Z'%20fill='url(%23paint1_linear_6674_208464)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_6674_208464'%20x1='0'%20y1='8'%20x2='31.7184'%20y2='7.84838'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%2347C8FF'/%3e%3cstop%20offset='1'%20stop-color='%232963FF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_6674_208464'%20x1='17.7016'%20y1='3.89305'%20x2='19.9758'%20y2='13.4843'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='white'/%3e%3cstop%20offset='1'%20stop-color='%23D5DDF2'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e");background-repeat:no-repeat;background-position:center;background-size:contain}.main-page[data-v-318abf18]{width:100%;height:100%}.main-page .header[data-v-318abf18]{display:flex;align-items:center;justify-content:space-between;height:36px}[dir=ltr] .main-page .header[data-v-318abf18]{padding:0 20px 0 24px}[dir=rtl] .main-page .header[data-v-318abf18]{padding:0 24px 0 20px}.main-page .header .icons[data-v-318abf18]{display:flex;align-items:center;gap:8px}.main-page .header .icons .icon-item-wrapper[data-v-318abf18]{position:relative}.main-page .header .user-info-container[data-v-318abf18]{display:flex;gap:12px;align-items:center;justify-content:center}.main-page .header .user-info-container .user-upgrade[data-v-318abf18]{font-size:14px;height:fit-content}.main-page .content[data-v-318abf18]{margin-top:24px;padding:0 24px}.main-page .content .model-select[data-v-318abf18]{margin-top:16px}.main-page .content .model-select[data-v-318abf18] .select-popup{max-height:250px}.main-page .content .model-select[data-v-318abf18] .select-popup .model-list{overflow-y:overlay}.main-page .content .model-select[data-v-318abf18] .select-popup .model-list::-webkit-scrollbar{width:4px}.main-page .content .model-select[data-v-318abf18] .select-popup .model-list::-webkit-scrollbar-thumb{background-color:#dcdcdc;border-radius:12px}.main-page .content .translate-button[data-v-318abf18]{font-weight:500;margin-top:24px}.main-page .content .setting-items[data-v-318abf18]{display:flex;justify-content:space-between;align-items:center;font-size:14px;font-weight:400;gap:4px}.main-page .content .setting-items.select-translate-setting[data-v-318abf18]{margin-top:24px}.main-page .content .setting-items.billingual-translate-setting[data-v-318abf18]{margin-top:20px}.main-page .content .setting-items .setting-item-label[data-v-318abf18]{flex:1}.main-page .footer[data-v-318abf18]{margin-top:16px;border-top:1px solid rgba(0,0,0,.1);padding:16px;display:flex;justify-content:space-between}.main-page .footer .nav-web[data-v-318abf18]{display:flex;flex-direction:column;justify-content:center;height:58px;width:140px;padding:0 16px;border-radius:12px;background-color:#eef3ff;cursor:pointer}.main-page .footer .nav-web .web-function-title-container[data-v-318abf18]{display:flex;align-items:center;justify-content:space-between;font-size:14px}.main-page .footer .nav-web .web-function-title-container .web-function-title[data-v-318abf18]{font-weight:500;font-size:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.main-page .footer .nav-web .web-function-hot-container[data-v-318abf18]{display:flex;align-items:center;gap:6px}.main-page .footer .nav-web .web-function-hot-container .hot-icon[data-v-318abf18]{background-image:url("data:image/svg+xml,%3csvg%20width='26'%20height='12'%20viewBox='0%200%2026%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='26'%20height='12'%20rx='2'%20fill='%23FF972F'/%3e%3cpath%20d='M20.5%202.44531V9.55469H19.1621V2.44531H20.5ZM22.707%202.44531V3.50488H16.9795V2.44531H22.707Z'%20fill='white'/%3e%3cpath%20d='M16.5938%205.81934V6.18555C16.5938%206.72266%2016.5221%207.20605%2016.3789%207.63574C16.2357%208.06217%2016.0322%208.42513%2015.7686%208.72461C15.5049%209.02409%2015.1908%209.25358%2014.8262%209.41309C14.4616%209.57259%2014.0563%209.65234%2013.6104%209.65234C13.1709%209.65234%2012.7673%209.57259%2012.3994%209.41309C12.0348%209.25358%2011.7191%209.02409%2011.4521%208.72461C11.1852%208.42513%2010.9785%208.06217%2010.832%207.63574C10.6855%207.20605%2010.6123%206.72266%2010.6123%206.18555V5.81934C10.6123%205.27897%2010.6855%204.79557%2010.832%204.36914C10.9785%203.94271%2011.1836%203.57975%2011.4473%203.28027C11.7109%202.97754%2012.0251%202.74642%2012.3896%202.58691C12.7575%202.42741%2013.1611%202.34766%2013.6006%202.34766C14.0465%202.34766%2014.4518%202.42741%2014.8164%202.58691C15.181%202.74642%2015.4951%202.97754%2015.7588%203.28027C16.0257%203.57975%2016.2308%203.94271%2016.374%204.36914C16.5205%204.79557%2016.5938%205.27897%2016.5938%205.81934ZM15.2363%206.18555V5.80957C15.2363%205.4222%2015.2005%205.08203%2015.1289%204.78906C15.0573%204.49284%2014.9515%204.24382%2014.8115%204.04199C14.6715%203.84017%2014.499%203.6888%2014.2939%203.58789C14.0889%203.48372%2013.8577%203.43164%2013.6006%203.43164C13.3402%203.43164%2013.109%203.48372%2012.9072%203.58789C12.7087%203.6888%2012.5394%203.84017%2012.3994%204.04199C12.2594%204.24382%2012.152%204.49284%2012.0771%204.78906C12.0055%205.08203%2011.9697%205.4222%2011.9697%205.80957V6.18555C11.9697%206.56966%2012.0055%206.90983%2012.0771%207.20605C12.152%207.50228%2012.2594%207.75293%2012.3994%207.95801C12.5426%208.15983%2012.7152%208.31283%2012.917%208.41699C13.1188%208.52116%2013.3499%208.57324%2013.6104%208.57324C13.8708%208.57324%2014.1019%208.52116%2014.3037%208.41699C14.5055%208.31283%2014.6748%208.15983%2014.8115%207.95801C14.9515%207.75293%2015.0573%207.50228%2015.1289%207.20605C15.2005%206.90983%2015.2363%206.56966%2015.2363%206.18555Z'%20fill='white'/%3e%3cpath%20d='M8.47363%205.37988V6.43457H4.7334V5.37988H8.47363ZM5.09961%202.44531V9.55469H3.75684V2.44531H5.09961ZM9.46973%202.44531V9.55469H8.12695V2.44531H9.46973Z'%20fill='white'/%3e%3c/svg%3e");width:26px;height:12px}.main-page .footer .nav-web .web-function-detail[data-v-318abf18]{margin-top:4px;font-size:12px;font-weight:400;color:#636363;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.main-page .tip[data-v-318abf18]{position:absolute;bottom:-27px;white-space:nowrap;z-index:2147483647;color:#fff;font-size:12px;line-height:16px;border-radius:8px;font-weight:400;padding:4px 6px;background-color:#000;border:1px solid rgb(54,54,54);box-shadow:0 12px 32px #00000014}[dir=ltr] .main-page .tip[data-v-318abf18]{left:50%;transform:translate(-50%)}[dir=rtl] .main-page .tip[data-v-318abf18]{right:50%;transform:translate(50%)}.setting-page[data-v-8482a3aa]{width:100%;height:100%;font-size:14px}.setting-page .header[data-v-8482a3aa]{padding-left:20px;padding-right:20px;display:flex;justify-content:space-between;align-items:center}.setting-page .content[data-v-8482a3aa]{padding:0 24px;margin-top:26px}.setting-page .content .setting-item[data-v-8482a3aa]{display:flex;justify-content:space-between;align-items:center;margin-top:20px;line-height:16px;font-weight:400;gap:4px}.setting-page .content .setting-item .setting-item-label[data-v-8482a3aa]{flex:1}.setting-page .content .translate-style-container[data-v-8482a3aa]{margin-top:20px}.setting-page .content .translate-style-container .translate-style-title[data-v-8482a3aa]{font-weight:500}.setting-page .content .translate-style-container .translate-style-type[data-v-8482a3aa]{margin-top:20px;display:flex}.setting-page .content .translate-style-container .translate-style-options[data-v-8482a3aa]{margin-top:20px;display:grid;grid-template-columns:repeat(2,1fr);gap:8px 12px}.setting-page .content .translate-style-container .translate-style-options .translate-style-item[data-v-8482a3aa]{display:flex;align-items:center;justify-content:center;padding:12px 4px;border:1px solid rgb(224,224,224);text-align:center;border-radius:8px;-webkit-user-select:none;user-select:none;cursor:pointer}.setting-page .content .translate-style-container .translate-style-options .translate-style-item[data-v-8482a3aa]:hover{border:1px solid rgb(167,167,167)}.setting-page .content .translate-style-container .translate-style-options .translate-style-item[data-v-8482a3aa]:active{border:1px solid rgb(130,130,130);background:#efefef}.setting-page .content .translate-style-container .translate-style-options .translate-style-item.active[data-v-8482a3aa]{border:1px solid rgb(31,105,224);background-color:#eff3ff}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span[data-v-8482a3aa]{display:inline-block;font-size:12px}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span.active[data-v-8482a3aa]{border:1px solid rgb(41,98,255);background-color:#1c4eda}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span.underlined[data-v-8482a3aa]{text-decoration:underline;text-decoration-style:solid}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span.grey[data-v-8482a3aa]{color:#0d0d0d80}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span.comments[data-v-8482a3aa]{color:#117efe}.setting-page .content .translate-style-container .translate-style-options .translate-style-item span.highlight[data-v-8482a3aa]{background-color:#117efe1a}.setting-page .content .translate-style-container .translate-style-options .translate-style-item.disabled[data-v-8482a3aa]{cursor:not-allowed;opacity:.5}.setting-page .content .translate-style-container .translate-style-options .translate-style-item.disabled[data-v-8482a3aa]:hover{border:1px solid rgb(224,224,224)}.setting-page .content .translate-style-container .translate-style-options .translate-style-item.disabled[data-v-8482a3aa]:active{border:1px solid rgb(224,224,224);background:none}.setting-page .content .translate-style-container .translate-style-options .translate-style-item.disabled.active[data-v-8482a3aa]{border:1px solid rgb(31,105,224);background-color:#eff3ff}.container[data-v-0120bca4]{background-color:#fff;width:330px;height:438px;padding-top:20px;padding-bottom:24px;color:#000}.container.contentScript[data-v-0120bca4]{border-radius:24px;border:1px solid rgb(224,224,224);box-shadow:0 12px 32px #00000014}`)})();
import{f as Oe,a as Ce,e as ue,_ as ee,j as ca,s as ua,h as da,v as xe,q as ga,l as pa,L as _a,M as va,E as ma,d as se,B as fa,i as ya,c as Ta}from"./useViewportBoundary-cun8lXEj.js";import{r as p,a5 as ha,M as E,J as de,z as ke,bg as Ve,d as W,h as me,j as H,E as Ge,w as C,k as Be,a3 as wa,c as S,o as c,b as l,f as U,t as b,x as v,H as Z,y as ge,I as pe,bh as _e,cb as Me,cc as ba,bA as $e,n as ve,bi as Ie,av as De,D as Ea,bO as le,q as y,ac as N,e as O,F as be,a as Ee,ag as He,a8 as B,l as ne,p as L,cd as ce,P as Re,bz as Sa,by as Ca,ah as Se,G as Ue,s as ka,a4 as J,ce as Pa,b5 as La,b7 as Aa,i as $a}from"./academia-Cma1O4UX.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Q=(u=>(u.NORMAL="normal",u.ERROR="error",u))(Q||{});const Ne=p("0%");function We(){const u=d=>{Ne.value=d};return{progress:ha(Ne),setProgress:u}}const{setProgress:Ia}=We(),Ra={[E.CHANGE_LANGUAGE]:u=>{Ve(u.language)},[E.CAPTURE_PROGRESS]:u=>{Ia(u.progress)},[E.NOTIFY_EXTENSION_SETTING_CHANGE]:u=>{const{setUserSettings:d}=ke();d(u)},[E.NOTIFY_EXTENSION_LOGIN_STATE]:()=>{const{refreshUserInfo:u}=de();u()},[E.TRANSLATE_EXCEED_LIMIT]:()=>{var n;const{userInfo:u}=de(),{popupExceedLimitTipShow:d}=Oe();(n=u.value)!=null&&n.isVip||(d.value=!0)}};function Ua(){chrome.runtime.onMessage.addListener((u,d,n)=>{const o=Ra[u.type];if(o)return o(u.data,d,n)})}const Na=["dir"],Oa={class:"capture-page-wrapper"},xa={class:"capture-header"},Va={class:"capture-tip-image"},Ga=["src"],Ba={class:"capture-tip-text"},Ma={class:"capture-progress-text-wrapper"},Da={class:"capture-footer"},Ha=W({__name:"CapturePage",emits:["back","close"],setup(u,{emit:d}){const{locale:n,t:o}=me(),s=d,i=H(()=>Ge(n.value)?"rtl":"ltr"),m=p(chrome.runtime.getURL("public/images/capture/capturing.svg")),{progress:A,setProgress:w}=We(),k=p(),_=p();async function x(){const f=await ba();if(_.value=f==null?void 0:f.id,!_.value){k.value=Q.ERROR;return}await $e(_.value,E.CAPTURE_PAGE)}function h(){_.value&&$e(_.value,E.STOP_CAPTURE_PAGE)}function P(){s("back"),h()}async function M(){const f=await _e(),$=Me(f);k.value=$?Q.NORMAL:Q.ERROR,$&&x(),w("0%")}C(A,f=>{if(f==="100%"){s("close"),_.value=void 0;return}});const V=()=>{const f=document.visibilityState;(f==="hidden"||f==="unloaded")&&h()};return Be(()=>{M(),document.addEventListener("visibilitychange",V,!1)}),wa(()=>{document.removeEventListener("visibilitychange",V,!1)}),(f,$)=>(c(),S("div",{dir:i.value},[l("div",Oa,[l("div",xa,[U(Ce,{class:"rtl-rotate-icon",icon:"back",size:28,onClick:P})]),l("div",Va,[l("img",{src:m.value},null,8,Ga)]),l("div",Ba,[l("p",null,b(k.value===v(Q).NORMAL?v(o)("capture.tip"):v(o)("capture.fail")),1)]),l("div",{class:"capture-progress",style:Z({visibility:k.value===v(Q).NORMAL?"visible":"hidden"})},[l("div",Ma,[l("span",{class:"capture-progress-text",style:Z({"inset-inline-start":v(A)})},b(v(A)),5)]),l("div",{class:"capture-progress-bar",style:Z({width:v(A)})},null,4)],4),l("div",Da,[U(ue,{class:"cancel-button",type:"primary",block:"",onClick:P},{default:ge(()=>[pe(b(v(o)("common.cancel")),1)]),_:1})])])],8,Na))}}),Wa=ee(Ha,[["__scopeId","data-v-ce0fc7b4"]]),Ya=["src"],Fa=W({__name:"UpgradeBtn",emits:["click"],setup(u,{emit:d}){const n=d,o=()=>chrome.runtime.getURL("public/images/rocket.png");return(s,i)=>(c(),S("div",{class:"upgrade-btn",onClick:i[0]||(i[0]=m=>n("click"))},[l("img",{width:"16",height:"16",src:o(),alt:"rocket"},null,8,Ya),l("span",null,b(s.$t("common.upgradeProSimple")),1)]))}}),ja=ee(Fa,[["__scopeId","data-v-67571364"]]),za=W({__name:"UserAvatar",props:{email:{default:""},avatar:{default:""},isVip:{type:Boolean,default:!1}},emits:["click","hover"],setup(u,{emit:d}){const n=u,o=d,s=[{color:"rgba(211, 113, 136, 1)",borderColor:"rgba(211, 113, 136, 0.3)"}],i=H(()=>n.email?n.email[0].toUpperCase():""),m=s[i.value.charCodeAt(0)%s.length||0],A=()=>{o("click")};return(w,k)=>(c(),S("div",{class:ve(`avatar ${w.isVip?"avatar-pro":""}`),onClick:A,onMouseover:k[0]||(k[0]=_=>o("hover"))},[w.avatar?(c(),S("div",{key:0,class:"avatar-image",style:Z({backgroundColor:v(m).color,backgroundImage:`url(${w.avatar})`})},null,4)):(c(),S("div",{key:1,class:"avatar-letter",style:Z({borderColor:v(m).borderColor,color:v(m).color})},b(i.value),5))],34))}}),Xa=ee(za,[["__scopeId","data-v-0d54927c"]]),qa={class:"main-page"},Ka={class:"header"},Ja={key:1,class:"user-info-container"},Qa={class:"icons"},Za={class:"content"},et={style:{position:"relative"}},at={style:{position:"relative"}},tt={class:"setting-items select-translate-setting"},nt={class:"setting-item-label"},st={class:"setting-items billingual-translate-setting"},lt={class:"setting-item-label"},ot={class:"footer"},it=["onClick"],rt={class:"web-function-title-container"},ct={class:"web-function-hot-container"},ut={class:"web-function-title"},dt={key:0,class:"hot-icon"},gt={class:"web-function-detail"},pt=W({__name:"MainPage",emits:["setClick","captureClick"],setup(u,{expose:d,emit:n}){const{t:o}=me(),{userInfo:s,initUserInfo:i,refreshUserInfo:m}=de(),{giftType:A}=ca(),{userSettings:w,initUserSettings:k,notifyUserSettings:_,getSettingByKey:x,setTempUserSettings:h}=ke(),{popupExceedLimitTipShow:P,hideExceedLimitTip:M}=Oe(),{showLanguageSameTip:V,checkLanguageSameTip:f,closeLanguageSameTip:$}=pa(),{checkBoundary:fe}=ua({margin:2}),{isRtl:ae}=da(),{onlineParams:oe,getStorageOnlineParams:ye}=Ea(),ie=n,te=p(!1),Y=p(Ie.translationService),F=p(Ie.targetLanguage),j=p(!0),z=p(!0),I=p(!1),X=p(!0),a=p(!1),t=p(null),g=p([]),R=p(!1),q=p(),re=p(!1);async function Te(){var e;try{const r=((e=q.value)==null?void 0:e.imageSites)||[],G=await _e();R.value=Se(G,r)}catch{}}C(oe,()=>{q.value=oe.value}),C(q,()=>{Te()}),C(w,()=>{Ae()}),C(Y,e=>{Le({service:e}),_({translationService:e})}),C(F,e=>{Le({targetLanguage:e}),_({targetLanguage:e})}),C(j,e=>{const r=x("inTextTranslation");r.enable=e,_({inTextTranslation:r})}),C(V,e=>{e&&y.reportShowEvent("plugin_dropdown_page_samelanguage_notice")}),C(z,e=>{const r=x("pageTranslation");r.displayMode=e?B.SIDE_BY_SIDE:B.REPLACE,le(E.SET_TRANSLATE_PAGE_STYLE,r),_({pageTranslation:r})}),C(P,e=>{e&&$()});const he=e=>{I.value&&!P.value&&f(),h({targetLanguage:e})},Ye=e=>{h({translationService:e})},Fe=e=>{h({inTextTranslationEnable:e}),y.reportClickEvent("plugin_dropdown_page",e?"open_select_to_translate":"close_select_to_translate")},je=e=>{h({displayMode:e?B.SIDE_BY_SIDE:B.REPLACE}),y.reportClickEvent("plugin_dropdown_page",e?"open_show_billingual_translation":"close_show_billingual_translation")},ze=async()=>{await y.reportClickByServiceWork("plugin_dropdown_page","sign_in");const e=encodeURIComponent(`${L.pluginDescPage}?from=extensionLogin`),r=`${L.loginUrl}?position=plugin_login_entry&feature=plugin_translate_website&cb=${e}`;ne(r)},Xe=async()=>{await y.reportClickByServiceWork("plugin_dropdown_page","user_profile"),ne(`${L.userCenterPage}?source=plugin`)},qe=async()=>{await y.reportClickByServiceWork("plugin_dropdown_page","upgrade",{type:A.value==="1"?"1":"8"});const e=`${L.priceUrl}?position=plugin_upgrade_entry&source=plugin_translate_website`;ne(e)},Ke=()=>{X.value&&(y.reportClickEvent("plugin_dropdown_page","quick_save"),ie("captureClick"))},Je=()=>{y.reportClickEvent("plugin_dropdown_page","settings"),ie("setClick")},Qe=H(()=>[{name:"capture",disabled:!X.value,tip:o("common.capture"),onClick:Ke},{name:"setting",disabled:!1,tip:o("common.setting"),onClick:Je}]),Ze=H(()=>[{id:"image",title:o("nav.web.image"),detail:"PNG JPG",pageIndex:4,condition:R.value,showHotIcon:!0},{id:"academia",title:o("nav.web.academia"),detail:"arXiv, CORE...",pageIndex:3,condition:a.value&&!R.value,showHotIcon:!R.value},{id:"file",title:o("nav.web.file"),detail:o("nav.web.fileDesc"),pageIndex:1,condition:!0,showHotIcon:!a.value&&!R.value},{id:"text",title:o("nav.web.text"),detail:o("nav.web.textDesc"),pageIndex:2,condition:!a.value&&!R.value,showHotIcon:!1}].filter(r=>r.condition)),ea=e=>{t.value=e,fe(g.value[e],r=>{if(r){const G=g.value[e],D=G.getBoundingClientRect(),K=window.innerWidth;D.left<2?G.style.transform=ae.value?`translateX(calc(50% - ${D.left-2}px))`:`translateX(calc(-50% - ${D.left-2}px))`:D.right>K-2&&(G.style.transform=ae.value?`translateX(calc(50% - ${D.right-K+2}px))`:`translateX(calc(-50% - ${D.right-K+2}px))`)}})},aa=()=>{t.value=null,g.value.forEach(e=>{e.style.transform=ae.value?"translateX(50%)":"translateX(-50%)"})},Pe=e=>{if(re.value){ce(E.TRANSLATE_GOOGLE_DOCS_PAGE,{scene:Re.DROPDOWN,clickBtn:e});return}I.value||(ce(E.TRANSLATE_PAGE,{scene:Re.DROPDOWN,clickBtn:e}),I.value=!0)},ta=async()=>{!I.value&&!P.value?f():$(),M(),I.value?(ce(E.SHOW_ORIGIN),I.value=!1,y.reportClickEvent("plugin_dropdown_page","show_original")):(Pe(!0),y.reportClickEvent("plugin_dropdown_page","translate"))};async function Le(e){M(),I.value&&le(E.CHANGE_TRANSLATE_OPTIONS,e)}const na=async e=>{const r=[`${L.translatorPage}?position=plugin_dropdown_jumpto_translate_file`,`${L.textTranslatePage}?position=plugin_dropdown_jumpto_translate_text`,`${L.academiaTranslatePage}?position=plugin_dropdown_jumpto_academia`,`${L.imagePage}?position=plugin_dropdown_jumpto_translate_image`],G=["jumpto_translate_file","jumpto_translate_text","jumpto_academia","jumpto_translate_image"];await y.reportClickByServiceWork("plugin_dropdown_page",G[e-1]),ne(r[e-1])};async function sa(){const e=await ce(E.CHECK_PAGE_TRANSLATED);e&&(I.value=e.isTranslated)}function Ae(){te.value=!0,Y.value=w.value.translationService,F.value=w.value.targetLanguage,j.value=w.value.inTextTranslation.enable,z.value=w.value.pageTranslation.displayMode===B.SIDE_BY_SIDE}async function la(){await m()}async function oa(){const e=await _e();X.value=Me(e),re.value=Sa(e)}async function ia(){try{a.value=await Ca()}catch{}}return De(async()=>{q.value=await ye(),ia(),sa(),await i(),await k(),Ve(w.value.interfaceLanguage),Ae(),await oa(),await la(),le(E.NOTIFY_CONTENT_USER_INFO_REFRESH,s.value),y.reportShowEvent("plugin_dropdown_page")}),d({translatePage:Pe}),(e,r)=>{var G,D,K;return c(),S("div",qa,[l("div",Ka,[v(s)?(c(),S("div",Ja,[U(Xa,{onClick:Xe,email:(G=v(s))==null?void 0:G.email,"is-vip":(D=v(s))==null?void 0:D.isVip,avatar:(K=v(s))==null?void 0:K.pic},null,8,["email","is-vip","avatar"]),v(s).isVip?O("",!0):(c(),N(ja,{key:0,onClick:qe}))])):(c(),N(ue,{key:0,onClick:ze},{default:ge(()=>[pe(b(e.$t("common.signIn")),1)]),_:1})),l("div",Qa,[(c(!0),S(be,null,Ee(Qe.value,(T,we)=>(c(),S("div",{key:T.name,class:"icon-item-wrapper"},[U(Ce,{onMouseenter:ra=>ea(we),onMouseleave:r[0]||(r[0]=ra=>aa()),icon:T.name,disabled:T.disabled,onClick:T.onClick},null,8,["onMouseenter","icon","disabled","onClick"]),He(l("div",{ref_for:!0,ref_key:"tipRefs",ref:g,class:"tip"},b(T.tip),513),[[xe,t.value===we]])]))),128))])]),l("div",Za,[l("div",et,[U(ga,{source:"plugin_dropdown_page",onChange:he,label:e.$t("translate.to"),modelValue:F.value,"onUpdate:modelValue":r[1]||(r[1]=T=>F.value=T)},null,8,["label","modelValue"]),v(V)?(c(),N(_a,{key:0,source:"plugin_dropdown_page_samelanguage_notice",onClose:v($),position:"top",style:{position:"absolute","z-index":"1",width:"300px",left:"-10px",top:"calc(100% + 6px)"}},null,8,["onClose"])):O("",!0)]),U(va,{onChange:Ye,class:"model-select","utm-source":"plugin_translate_website",modelValue:Y.value,"onUpdate:modelValue":r[2]||(r[2]=T=>Y.value=T)},null,8,["modelValue"]),l("div",at,[v(P)?(c(),N(ma,{key:0,scene:"plugin_dropdown_page_free_trial_limit",position:"bottom",style:{position:"absolute","z-index":"1",width:"300px",left:"-10px",bottom:"calc(100% + 6px)"},onClose:r[3]||(r[3]=T=>P.value=!1)})):O("",!0),U(ue,{disabled:!X.value,type:"primary",size:"large",block:"",class:"translate-button",onClick:ta},{default:ge(()=>[pe(b(I.value?e.$t("translate.showOrigin"):e.$t("translate.translate")),1)]),_:1},8,["disabled"])]),l("div",tt,[l("div",nt,b(e.$t("settings.selectToTranslate")),1),te.value?(c(),N(se,{key:0,onChange:Fe,modelValue:j.value,"onUpdate:modelValue":r[4]||(r[4]=T=>j.value=T)},null,8,["modelValue"])):O("",!0)]),l("div",st,[l("div",lt,b(e.$t("settings.billingual")),1),te.value?(c(),N(se,{key:0,onChange:je,modelValue:z.value,"onUpdate:modelValue":r[5]||(r[5]=T=>z.value=T)},null,8,["modelValue"])):O("",!0)])]),l("div",ot,[(c(!0),S(be,null,Ee(Ze.value,T=>(c(),S("div",{key:T.id,class:"nav-web",onClick:we=>na(T.pageIndex)},[l("div",rt,[l("div",ct,[l("div",ut,b(T.title),1),T.showHotIcon?(c(),S("div",dt)):O("",!0)]),U(fa,{class:"rtl-rotate-icon",icon:"arrow-left-small",size:12})]),l("div",gt,b(T.detail),1)],8,it))),128))])])}}}),_t=ee(pt,[["__scopeId","data-v-318abf18"]]),vt={class:"setting-page"},mt={class:"header"},ft={class:"content"},yt={class:"setting-item"},Tt={class:"setting-item-label"},ht={class:"setting-item"},wt={class:"setting-item-label"},bt={class:"setting-item"},Et={class:"setting-item-label"},St={class:"translate-style-container"},Ct={class:"translate-style-title"},kt={class:"translate-style-type"},Pt={class:"translate-style-options"},Lt=["onClick"],At=W({__name:"SettingPage",emits:["back","translatePage"],setup(u,{emit:d}){const{t:n}=me(),{userSettings:o,notifyUserSettings:s,getSettingByKey:i,setTempUserSettings:m}=ke(),{userInfo:A}=de(),w=d,k=H(()=>[{label:n("settings.translateStyle.sideBySide"),value:B.SIDE_BY_SIDE},{label:n("settings.translateStyle.replace"),value:B.REPLACE}]);let _="";const x=p(!1),h=p(L.defaultLanguage),P=p(!1),M=p(!1),V=p(!1),f=p(),$=p(),fe=H(()=>{const a=Ue(h.value);return a?n(`language.${h.value}`)||a.label:n("language.en")}),ae=H(()=>{const a=o.value.pageTranslation.continueTranslateTime||15,t=Math.floor(a/60);return t>0?n("continueTranslate.enableLabel",[n("continueTranslate.hours",[t])]):t===1?n("continueTranslate.enableLabel",[n("continueTranslate.hour")]):n("continueTranslate.enableLabel",[n("continueTranslate.minutes",[a])])});C(o,()=>{I()});const oe=a=>{f.value!==B.REPLACE&&($.value=a,m({displayTheme:a}),y.reportClickEvent("plugin_dropdown_subpage",`side_by_side_${a}`))},ye=()=>{w("back"),y.reportClickEvent("plugin_dropdown_subpage","back")},ie=async()=>{await y.reportClickByServiceWork("plugin_dropdown_subpage","settings");let a;if(A.value)a=`${L.webPageSettingPage}?source=plugin`;else{const t=encodeURIComponent(`${L.webPageSettingPage}?source=plugin&from=extensionLogin`);a=`${L.loginUrl}?feature=plugin_translate_website&cb=${t}`}ne(a)},te=a=>{m({alwaysTranslateEnabled:a,alwaysTranslateLanguage:h.value}),y.reportClickEvent("plugin_dropdown_subpage",a?"open_always_translate_lang_site":"close_always_translate_lang_site",{selected_item:h.value})},Y=async a=>{m(a?{alwaysTranslateUrl:_,noAlwaysTranslateUrl:""}:{noAlwaysTranslateUrl:_,alwaysTranslateUrl:""}),y.reportClickEvent("plugin_dropdown_subpage",a?"open_always_translate_this_site":"close_always_translate_this_site")},F=a=>{const t=o.value.pageTranslation.continueTranslateTime||15;m({continueTranslateEnable:a,continueTranslateTime:t}),y.reportClickEvent("plugin_dropdown_subpage",a?"open_always_translate_duration":"close_always_translate_duration")},j=a=>{m({displayMode:a}),y.reportClickEvent("plugin_dropdown_subpage",a===B.REPLACE?"replace":"side_by_side")},z=a=>{switch(a){case J.COLORED:return n("settings.translateStyle.colored");case J.GHOSTED:return n("settings.translateStyle.ghosted");case J.HIGHLIGHT:return n("settings.translateStyle.highlight");case J.UNDERLINED:return n("settings.translateStyle.underlined");case J.ORIGINAL:return n("settings.translateStyle.original")}};async function I(){const{displayMode:a,theme:t,alwaysTranslateSites:g,continueTranslateEnable:R,alwaysTranslateLanguage:q,alwaysTranslateEnabled:re,newAlwaysTranslateLanguage:Te}=o.value.pageTranslation,he=q.includes(h.value)&&re;P.value=Te.includes(h.value)||he,M.value=Se(_,g),V.value=R,f.value=a,$.value=t,x.value=!0}function X(){C(M,async a=>{const t=i("pageTranslation"),g=t.alwaysTranslateSites;if(a)!Se(_,g)&&g.push(_.substring(0,1e3));else{const R=g.indexOf(_.substring(0,1e3));R>-1&&g.splice(R,1)}s({pageTranslation:t}),a&&w("translatePage")}),C(f,async a=>{const t=i("pageTranslation");t.displayMode=a,le(E.SET_TRANSLATE_PAGE_STYLE,t),s({pageTranslation:t})}),C($,async a=>{const t=i("pageTranslation");t.theme=a,le(E.SET_TRANSLATE_PAGE_STYLE,t),s({pageTranslation:t})}),C(P,async a=>{const t=i("pageTranslation");a?!t.newAlwaysTranslateLanguage.includes(h.value)&&t.newAlwaysTranslateLanguage.push(h.value):(t.alwaysTranslateLanguage.includes(h.value)&&(t.alwaysTranslateEnabled=!1,t.alwaysTranslateLanguage=[]),t.newAlwaysTranslateLanguage=t.newAlwaysTranslateLanguage.filter(g=>g!==h.value)),s({pageTranslation:t}),a&&w("translatePage")}),C(V,async a=>{const t=i("pageTranslation");t.continueTranslateEnable=a,t.continueTranslateTime=t.continueTranslateTime||15,s({pageTranslation:t})})}return De(async()=>{var t;_=await _e();const a=await ka(E.GET_PAGE_LANGUAGE);h.value=((t=Ue(a||""))==null?void 0:t.value)||L.defaultLanguage,await I(),X(),y.reportShowEvent("plugin_dropdown_subpage")}),(a,t)=>(c(),S("div",vt,[l("div",mt,[U(Ce,{class:"rtl-rotate-icon",icon:"back",onClick:ye,size:28}),U(ue,{style:{height:"28px"},type:"text",onClick:ie},{default:ge(()=>[pe(b(a.$t("common.moreSetting")),1)]),_:1})]),l("div",ft,[l("div",yt,[l("div",Tt,b(a.$t("settings.alwaysTranslate",[fe.value])),1),x.value?(c(),N(se,{key:0,onChange:te,modelValue:P.value,"onUpdate:modelValue":t[0]||(t[0]=g=>P.value=g)},null,8,["modelValue"])):O("",!0)]),l("div",ht,[l("div",wt,b(ae.value),1),x.value?(c(),N(se,{key:0,onChange:F,modelValue:V.value,"onUpdate:modelValue":t[1]||(t[1]=g=>V.value=g)},null,8,["modelValue"])):O("",!0)]),l("div",bt,[l("div",Et,b(a.$t("settings.alwaysTranslateThis")),1),x.value?(c(),N(se,{key:0,onChange:Y,modelValue:M.value,"onUpdate:modelValue":t[2]||(t[2]=g=>M.value=g)},null,8,["modelValue"])):O("",!0)]),l("div",St,[l("div",Ct,b(v(n)("settings.translateStyle.name")),1),l("div",kt,[U(ya,{gap:32,onChange:j,modelValue:f.value,"onUpdate:modelValue":t[3]||(t[3]=g=>f.value=g),options:k.value},null,8,["modelValue","options"])]),l("div",Pt,[(c(!0),S(be,null,Ee(v(J),g=>(c(),S("div",{class:ve(["translate-style-item",{disabled:f.value===v(B).REPLACE,active:g===$.value}]),onClick:R=>oe(g),key:g},[l("span",{class:ve(g)},b(z(g)),3)],10,Lt))),128))])])])]))}}),$t=ee(At,[["__scopeId","data-v-8482a3aa"]]),It=W({__name:"PopUp",setup(u){const d=p(),n=p("mainPage"),o=()=>Pa()?"":"contentScript",s=()=>{window.close()},i=()=>{n.value="settingPage"},m=()=>{n.value="mainPage"},A=()=>{n.value="mainPage"},w=()=>{n.value="capturePage"},k=()=>{var _;(_=d.value)==null||_.translatePage()};return(_,x)=>(c(),S("div",{class:ve(["container",o()])},[He(U(_t,{ref_key:"mainPageRef",ref:d,onSetClick:i,onCaptureClick:w},null,512),[[xe,n.value==="mainPage"]]),n.value==="settingPage"?(c(),N($t,{key:0,onTranslatePage:k,onBack:m})):O("",!0),n.value==="capturePage"?(c(),N(Wa,{key:1,onBack:A,onClose:s})):O("",!0)],2))}}),Rt=ee(It,[["__scopeId","data-v-0120bca4"]]),Ut=["dir"],Nt=W({__name:"App",setup(u){const{locale:d}=me(),n=H(()=>Ge(d.value)?"rtl":"ltr"),o=H(()=>La(d.value)),s=p(!1);return Be(async()=>{await y.init(),Ua(),s.value=!0,chrome.runtime.connect({name:Aa.POP_UP})}),(i,m)=>(c(),S("div",{dir:n.value,style:Z({fontFamily:o.value})},[s.value?(c(),N(Rt,{key:0})):O("",!0)],12,Ut))}});Ta(Nt).use($a).mount("#app");
